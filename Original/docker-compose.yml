version: '2.1'

services:
  JenkinsWindowsSlave:
    image: liveforensics/jenkinswindowsslave:0.1.0
    container_name: JenkinsSlave
    networks:
      - jenkins-network
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - c:\docker\persistroot:c:\Persist
    mem_limit: 2G

  # JenkinsWindowsSlave2:
  #   image: liveforensics/jenkinswindowsslave:latest
  #   container_name: JenkinsSlave2
  #   networks:
  #     - jenkins-network
  #   build:
  #     context: .
  #     dockerfile: Dockerfile
  #   volumes:
  #     - c:\docker\persistroot2:c:\Persist      
  #   mem_limit: 2G
    
  # docker run -d -p 9000:9000 --name portainer --restart always -v \\.\pipe\docker_engine:\\.\pipe\docker_engine -v C:\docker\Portainer:C:\data portainer/portainer
  # 
  # portainer:
  #   image: portainer/portainer
  #   container_name: portainer
  #   networks:
  #       - jenkins-network
  #   ports:
  #       - "9000:9000"
  #   volumes:
  #       - "\\\\.\\pipe\\docker_engine:\\\\.\\pipe\\docker_engine"
  #       - c:\docker\portainer:c:\data

networks:
    jenkins-network:
        driver: nat


